.PHONY = all wave clean help
EXE = wave
CFLAGS = -Wall -Wextra -std=c11
LDFLAGS = -lm

all: wave

wave:	wave.o matrix.o
			$(CC) $(CFLAGS) -o $@ $^ $(LDFLAGS)

matrix.o: matrix.c matrix.h
			$(CC) $(CFLAGS) $(CPPFLAGS) -c $< $(LDFLAGS)

wave.o: wave.c wave.h matrix.h
	$(CC) $(CFLAGS) $(CPPFLAGS) -c $< $(LDFLAGS)

clean:
			@rm -f *~ *.o wave

help:
			@echo "Usage:"
			@echo "  make all			Build the software"
			@echo "  make wave			Build the executable file from wave.c"
			@echo "  make clean			Remove all files generated by make"
