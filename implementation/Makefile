.PHONY = all wave clean help
EXE = wave
CFLAGS = -Wall -Wextra -std=c11 -O3
LDFLAGS = -lm

.PHONY: all wave clean help

all: wave

wave:	wave.o scheme.o matrix.o algebra.o
			$(CC) $(CFLAGS) -o $@ $^ $(LDFLAGS)

scheme.o: scheme.c scheme.h
			$(CC) $(CFLAGS) $(CPPFLAGS) -c $< $(LDFLAGS)

matrix.o: matrix.c matrix.h
			$(CC) $(CFLAGS) $(CPPFLAGS) -c $< $(LDFLAGS)

algebra.o: algebra.c algebra.h
			$(CC) $(CFLAGS) $(CPPFLAGS) -c $< $(LDFLAGS)

wave.o: wave.c wave.h
	    $(CC) $(CFLAGS) $(CPPFLAGS) -c $< $(LDFLAGS)

clean:
			@rm -f *~ *.o wave

help:
			@echo "Usage:"
			@echo "  make [all]    Build the software"
			@echo "  make wave     Build the executable file from wave.c"
			@echo "  make clean    Remove all files generated by make"
			@echo "  make help     Display the main targets of this Makefile with a short description"
